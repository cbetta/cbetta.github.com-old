<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: rails | Cristiano Betta &middot; Blog]]></title>
  <link href="http://cbetta.github.com/blog/categories/rails/atom.xml" rel="self"/>
  <link href="http://cbetta.github.com/"/>
  <updated>2015-02-11T15:30:15+00:00</updated>
  <id>http://cbetta.github.com/</id>
  <author>
    <name><![CDATA[Cristiano Betta]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[A look back at 2012]]></title>
    <link href="http://cbetta.github.com/blog/2013/01/08/lookback-at-2012/"/>
    <updated>2013-01-08T22:10:00+00:00</updated>
    <id>http://cbetta.github.com/blog/2013/01/08/lookback-at-2012</id>
    <content type="html"><![CDATA[<p>With all the new years resolutions out of the way I want to share what (programming) skills I learned or revisited in 2012.</p>

<p>This will be more positive than looking back in a year and counting the things I promised but didn't do.</p>

<h2>Programming skills</h2>

<h4>Advanced Ruby</h4>

<p>I knew Ruby already, but it always was a very "Rails" type of Ruby. Working with <a href="http://caius.name/">Caius</a> and <a href="http://www.linkedin.com/in/rahoulbaruah">Baz</a> at <a href="http://emberads.com">EmberAds</a> has brought this to a whole new level though. Writing modules, writing gems, extending classes, applying best practices, etc, all of those can seem daunting at first but they are oh so useful.</p>

<p>It also has had a great effect on my proficiency in Rails.</p>

<blockquote><p>You can spot a good Rails programmer by their number of regular Ruby objects in their codebase</p></blockquote>

<p>I don't remember who said this but it really has started to ring truth to me in the past year. The Rails community has lately been alight with discussions about DCI, Concerns, Service Objects, Delegation and other ways of moving more and more code out of controller and models and into regular Ruby objects.</p>

<h4>Testing code using RSpec</h4>

<p>Learning to write tests has always been at the top of my list of things to learn but I somehow never got to it. Luckily Caius and Baz wouldn't allow any code to go untested and it soon became a much loved practice. It is a hard skill to master though so I don't blame my past self.</p>

<p>I think it's a skill best learned by example and from a colleague. I still feel like I'm learning more and more about the intricate aspects though as it's relatively easy to write a test that tests too much or too little. We'll see where I am at the end of 2013.</p>

<!-- more -->


<h4>Server deployment with Puppet</h4>

<p>I used to love <a href="http://heroku.com">Heroku</a> but it has its issues. Most importantly to me is the relative high cost of doing anything asynchronously in the background (e.g. using <a href="https://github.com/defunkt/resque">Resque</a>). I always wanted to setup my own server but the last time I did this was ages ago and I had lost all the skills I had build up.</p>

<p>So this time I started over using <a href="http://puppetlabs.com/">Puppet</a>. Like I said in my <a href="http://cristianobetta.com/blog/2012/11/12/some-notes-on-puppet/">previous post</a>, I'm not 100% sure if I like Puppet but it does do the job for now and has allowed for me to have a repeatable setup for Rails apps, allowing me to deploy a new Rails app (often a simple hack) within minutes (just like on Heroku).</p>

<h4>Machine learning, algorithms, databases</h4>

<p>Algorithms and AI already was a lot of fun at university but at EmberAds I finally got to apply a lot of that knowledge again.</p>

<p>So what lessons did I learn? Here are some:</p>

<ul>
<li>Not all databases are the same</li>
<li>counting can be slow (on postgres)</li>
<li>Redis is FAST</li>
<li>bloom filters are FASTER</li>
<li>VPS's are expensive when all you need is memory</li>
</ul>


<p>I really want to look at more specific databases and focus on honing my map-reduce skills in 2013.</p>

<h4>Writing iOS Apps</h4>

<p>Melinda and I have had an idea for a mobile app for a while and we both had tried to take up iOS development but we never never really got into it. In 2012 we found that <a href="http://www.raywenderlich.com/store/ios-apprentice">The iOS Apprentice</a> was the tutorial we were looking for and have finally started making progress to get our app out there.</p>

<h4>Working remotely in a team on 1 project</h4>

<p>One of the more subtle but definitely biggest changes last year was working in a passionate team on 1 project. I realise now that in the past few years I had rarely worked on 1 project with multiple developers. I know this might seem normal to some, but as a freelancer I've always worked with others but rarely many other developers, and in my time at Nudge we were mostly all working on different projects. It has been a real breeze being able to be in a team where everyone can pick up any bit of the code and improve or extend it and rely on everyone else to keep them to the same standards they would keep the other.</p>

<p><a href="http://campfirenow.com/">Campfire</a>, <a href="http://github.com">Github</a>, and <a href="http://dropbox.com">DropBox</a> have been our big friends in 2012.</p>

<h2>Non programming skills</h2>

<h4>Running</h4>

<p>Apologies to my friends on Twitter and Facebook for spamming them every other day to tell them I ran another X kilometres, but the truth is simple: sharing my progress helps to motivate me. Tracking and talking about your health seems to be a real factor in keeping the progress going.</p>

<p>Sadly I hurt my knee just after being able to hit a regular 5km. I now changed my training to prepare for a triathlon. I might even actually do one in 2013 as a sprint-relay with Kevin and Ruth. I would love to do a full sprint triathlon in 2013, but like I said, I wasn't going to make any resolutions.</p>

<h4>Driving</h4>

<p>After years of postponing I finally did it and got my license. Sadly driving is really expensive for a new driver in London, and driving a rental isn't an option either.</p>

<p>The plan is to sell the current car in August and move on to something like ZipCar. I did the math and it's quite simple: my usage is so low that I can even rent quite a nice car for a week every so often to head to The Netherlands, and still come out with money saved.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Add terms & conditions validation to Omniauth Identity]]></title>
    <link href="http://cbetta.github.com/blog/2012/04/12/add-terms-and-conditions-validation-to-omniauth-identity/"/>
    <updated>2012-04-12T00:32:00+01:00</updated>
    <id>http://cbetta.github.com/blog/2012/04/12/add-terms-and-conditions-validation-to-omniauth-identity</id>
    <content type="html"><![CDATA[<div class="entry-content"><p><a href="https://github.com/intridea/omniauth-identity">Omniauth Identity</a> is a great identity provide that shipped with Omniauth 1.0 it can be a bit simple at times. I wanted to add a simple terms and conditions check on signup to my registration form and this is what I came up with.</p>

<p>For this example I assume you already have a Omniauth Identity setup much like explained in <a href="http://railscasts.com/episodes/304-omniauth-identity">this Railscast</a>.</p>

<h2>Step 1 - app/views/identities/new.html.erb</h2>

<p>Add a checkbox to your form.</p>

<div><script src='https://gist.github.com/2368233.js'></script>
<noscript><pre><code>&lt;div class=&quot;field&quot;&gt;
  &lt;%= label_tag :conditions %&gt;&lt;br&gt;
  &lt;%= check_box_tag :conditions %&gt;
&lt;/div&gt;</code></pre></noscript></div>

<!-- more -->

<h2>Step 2 - app/models/identity.rb</h2>

<p>Add a attribute to your identity model and check for it to be set.</p>

<div><script src="https://gist.github.com/3859506.js"></script>
<noscript><pre><code>class Identity &lt; OmniAuth::Identity::Models::ActiveRecord

  ...

  validates :conditions, acceptance: true, allow_nil: false, on: :create
  attr_accessor :conditions

  ...

end</code></pre></noscript></div>


<p>You should really only check this on create, otherwise this validation will run every time the identity gets updated, unless of course you decide to store the <code>conditions</code> value in the database.</p>

<h2>Step 3 - config/initializers/omniauth.rb</h2>

<p>This is the one that took me the longest to figure out. You need to tell Omniauth Identity what fields to look for on signup.</p>

<div><script src="https://gist.github.com/3859517.js"></script>
<noscript><pre><code>Rails.application.config.middleware.use OmniAuth::Builder do
  provider :identity, fields: [:email, :conditions]
end</code></pre></noscript></div>


<p>In the same way you can add a user&#8217;s name and other details, though I highly recommend you don&#8217;t store those on the <code>Identity</code> but on the <code>User</code> model.</p>
</div>

]]></content>
  </entry>
  
</feed>
